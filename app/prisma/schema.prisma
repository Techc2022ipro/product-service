// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
  binaryTargets = ["native"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Product {
  pid                   Int         @id @default(autoincrement())
  name                  String      @db.VarChar(60)
  brand                 String      @db.VarChar(60)
  type                  String      @db.VarChar(60)
  description           String      @db.VarChar(256)
  quantity              Int
  price                 Int
  uid                   Int
  username              String      @db.VarChar(60)
  image                 String      @db.VarChar(256)
  tags                  String[]
  likes                 Int         @default(0)
  comment               Comment[]
  createdAt             DateTime    @default(now()) 
  updatedAt             DateTime    @updatedAt
}

model Comment {
  cid                   Int         @id @default(autoincrement())
  uid                   Int
  pid                   Int
  comment               String      @db.VarChar(60)
  product               Product     @relation(fields: [pid], references: [pid])
  createdAt             DateTime    @default(now())
  updatedAt             DateTime    @updatedAt
}

model Tags {
  tagid                 Int         @id @default(autoincrement())
  tag                   String      @unique @db.VarChar(60)
  createdAt             DateTime    @default(now())
  updatedAt             DateTime    @updatedAt
}
